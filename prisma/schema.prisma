generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Product {
  id   Int    @id @unique @default(autoincrement())
  slug String @unique

  name        String
  images      String[]
  description String
  price       Int

  materials  String
  dimensions String
  weight     String
  power      String
  voltage    Int
  bulb       String
  bulbColor  String
  bulbType   String

  category     Category @relation(fields: [categorySlug], references: [slug])
  categorySlug String

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Category {
  id   Int    @id @unique @default(autoincrement())
  slug String @unique

  image String
  name  Json

  products Product[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Admin {
  id Int @id @unique @default(autoincrement())

  login    String @unique
  password String

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model TextField {
  id Int @id @unique @default(autoincrement())

  slug   String @unique
  locale String @default("uk")
  text   String

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model FailedLoginAttempt {
  id Int @id @unique @default(autoincrement())

  ip       String @unique
  attempts Int    @default(0)

  lockUntil DateTime?

  updatedAt DateTime @updatedAt
}

model Slide {
  id Int @id @unique @default(autoincrement())

  background  String
  description String
  text        String
  url         String

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Gallery {
  id Int @id @unique @default(autoincrement())

  image String

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
